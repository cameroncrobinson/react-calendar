<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
    <title>React App</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <div class="eventButton">
      <button type="button" class="eventButtonBox">Add Event</button>
    </div>
    <div id="event-form" class="eventForm modal hidden">
      <form class="eventFormBox" id="myForm">
        <label>Event Title:</label><br>
        <input type="text" id="title"><br>
        <label>Day(s):</label><br>
        <input type="text" id ="dates"><br>
        <label>Location:</label><br>
        <input type="text" id="location"><br>
        <label>Description:</label><br>
        <input type="text" id="desc"><br>
        <button type="button" id="btnSubmit" class="btn-submit">Create Event</button>
      </form>
    </div>
    <div class="overlay hidden"></div>
    <script>
      src="js/app.js"

      let formEvents = []; //use to store Events, add json functionality after

//adding a function to react to onClick of submit button. Intent is to create one array to send
//to json after working.
const addEvent = (ev) => {
  ev.preventDefault();  //to stop the page from reloading
  let newEvent = {
      id: Date.now(),
      title: document.getElementById('title').value, //get title from form
      dates: document.getElementById('dates').value, //get date inputs from form
      location: document.getElementById('location').value, //get location from form
      description: document.getElementById('desc').value //get description from form
  }
  formEvents.push(addEvent); //addEvent variable added to formEvents
  document.forms[0].reset(); //resets the form for user to input new event

  /*currently attempting to store locally, until I can prove it works properly before trying to send this over to json file.
  */
  localStorage.setItem('EventList', JSON.stringify(formEvents));
}

//create event listener, adjust the DOM to wait submit button click, then trigger addEvent funct.
document.addEventListener('DOMContentLoaded', () => {
  document.getElementById('btnSubmit').addEventListener('click', addEvent);
});
/*
Currently,the form responds and resets on trigger, however, the formEvents object can't be console logged to store the form data. I'm not sure what is quite wrong yet. Would be happy for some feedback from Cameron.
*/
    </script>
  </body>
</html>
